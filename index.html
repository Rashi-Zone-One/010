<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VillainHub - แหล่งรวมคนเลว</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        body { font-family: 'Kanit', sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-neutral-900 text-gray-200 min-h-screen selection:bg-red-900 selection:text-white">

    <!-- Navbar -->
    <nav class="bg-black border-b border-red-900 sticky top-0 z-50 shadow-lg shadow-red-900/10">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i data-lucide="flame" class="text-red-600 w-8 h-8 animate-pulse"></i>
                <span class="text-2xl font-bold tracking-tighter text-white">
                    VILLAIN<span class="text-red-600">GALLERY</span>
                </span>
            </div>
            <button onclick="toggleForm()" 
                class="flex items-center space-x-2 bg-red-900/20 hover:bg-red-900/40 text-red-500 px-4 py-2 rounded-full transition-colors border border-red-900 cursor-pointer">
                <i data-lucide="user-plus" class="w-4 h-4"></i>
                <span class="text-sm font-bold">แจ้งเบาะแส</span>
            </button>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto px-4 py-12">
        
        <!-- Registration Form (Hidden by default) -->
        <div id="formSection" class="hidden mb-12">
            <div class="bg-neutral-800 border border-red-900/50 rounded-xl p-6 max-w-xl mx-auto shadow-2xl shadow-red-900/20 fade-in">
                <h2 class="text-xl font-bold text-red-500 mb-4 flex items-center">
                    <i data-lucide="shield-alert" class="mr-2 w-6 h-6"></i> เพิ่มรายชื่อคนเลว
                </h2>
                <form id="villainForm" onsubmit="addVillain(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-400 mb-1">ชื่อ / ฉายา</label>
                        <input type="text" id="nameInput" required
                            class="w-full bg-neutral-900 border border-neutral-700 rounded-lg px-4 py-2 text-white focus:border-red-500 outline-none transition-colors"
                            placeholder="ระบุชื่อคนร้าย...">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-400 mb-1">ความผิดที่ก่อ</label>
                        <textarea id="descInput" rows="3" required
                            class="w-full bg-neutral-900 border border-neutral-700 rounded-lg px-4 py-2 text-white focus:border-red-500 outline-none transition-colors"
                            placeholder="เขาทำอะไรผิดมา?..."></textarea>
                    </div>
                    <button type="submit"
                        class="w-full bg-red-700 text-white font-bold py-2 rounded-lg hover:bg-red-600 transition-colors shadow-lg shadow-red-900/50">
                        ประจานเลย
                    </button>
                </form>
            </div>
        </div>

        <!-- Gallery Grid -->
        <div id="villainGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <!-- Items will be injected here by JavaScript -->
        </div>

    </main>

    <footer class="py-8 text-center text-gray-600 text-xs font-mono border-t border-neutral-800 mt-12">
        Villain Gallery System v2.0 - HTML Edition
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // ข้อมูลเริ่มต้น
        let villains = [
            {
                id: 1,
                name: "Lord Shadow",
                image: "https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Shadow",
                description: "ชอบขโมยขนมเด็กและปิดไฟห้องน้ำสาธารณะตอนคนกำลังใช้"
            },
            {
                id: 2,
                name: "Dr. Chaos",
                image: "https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Chaos",
                description: "สร้างเครื่องจักรที่ทำให้รถติดทั่วกรุงเทพฯ ในเช้าวันจันทร์"
            },
            {
                id: 3,
                name: "Madame Poison",
                image: "https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Poison",
                description: "แอบใส่ผักชีลงในอาหารของทุกคนที่สั่งว่า 'ไม่ใส่ผัก'"
            },
            {
                id: 4,
                name: "Captain Late",
                image: "https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Late",
                description: "นัดเพื่อน 10 โมง แต่ตื่นตอนเที่ยง แล้วบอกว่า 'ใกล้ถึงแล้ว'"
            }
        ];

        // ฟังก์ชันเริ่มทำงานเมื่อโหลดหน้าเว็บ
        document.addEventListener('DOMContentLoaded', () => {
            renderVillains();
            lucide.createIcons();
        });

        // ฟังก์ชันแสดงผลรายชื่อ
        function renderVillains() {
            const grid = document.getElementById('villainGrid');
            grid.innerHTML = ''; // ล้างข้อมูลเก่า

            villains.forEach(villain => {
                const card = document.createElement('div');
                card.className = 'group relative bg-neutral-800 rounded-2xl overflow-hidden shadow-lg border border-neutral-700 hover:border-red-500 hover:shadow-red-900/20 transition-all duration-300 fade-in';
                
                card.innerHTML = `
                    <div class="aspect-square bg-neutral-900 p-4 flex items-center justify-center relative overflow-hidden">
                        <div class="absolute inset-0 bg-gradient-to-t from-neutral-800 to-transparent opacity-50"></div>
                        <img src="${villain.image}" alt="${villain.name}" 
                             class="w-full h-full object-contain transform group-hover:scale-110 transition-transform duration-500 drop-shadow-[0_0_15px_rgba(255,0,0,0.3)]"
                             onerror="this.src='https://placehold.co/400x400/1a1a1a/FFF?text=No+Image'">
                    </div>
                    <div class="p-5 relative">
                        <div class="absolute top-4 right-4 text-red-900 opacity-20">
                            <i data-lucide="ghost" class="w-10 h-10"></i>
                        </div>
                        <h3 class="font-bold text-lg text-white mb-2 truncate pr-8">${villain.name}</h3>
                        <div class="bg-black/30 rounded-lg p-3 border border-red-900/20">
                            <p class="text-red-400 text-xs font-bold uppercase mb-1 tracking-wider">CRIME / ความผิด:</p>
                            <p class="text-gray-300 text-sm leading-relaxed">"${villain.description}"</p>
                        </div>
                    </div>
                `;
                grid.prepend(card); // ใส่ตัวใหม่ไว้ข้างหน้า
            });
            
            // เรียกใช้ icons ใหม่สำหรับ elements ที่เพิ่งสร้าง
            lucide.createIcons();
        }

        // สลับการแสดงฟอร์ม
        function toggleForm() {
            const form = document.getElementById('formSection');
            form.classList.toggle('hidden');
        }

        // เพิ่มข้อมูลใหม่
        function addVillain(e) {
            e.preventDefault();
            
            const nameInput = document.getElementById('nameInput');
            const descInput = document.getElementById('descInput');

            if (!nameInput.value || !descInput.value) return;

            const newVillain = {
                id: Date.now(),
                name: nameInput.value,
                image: `https://api.dicebear.com/9.x/bottts-neutral/svg?seed=${nameInput.value}-${Date.now()}`,
                description: descInput.value
            };

            villains.push(newVillain); // เพิ่มข้อมูล
            
            // Reset ฟอร์มและซ่อน
            nameInput.value = '';
            descInput.value = '';
            toggleForm();
            
            // แสดงผลใหม่
            renderVillains();
        }
    </script>
</body>
</html>